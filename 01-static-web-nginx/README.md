# 01-static-web-nginx

## 概要
最小構成で「Webとは何か」を理解する。
ブラウザからのHTTPリクエストを受け取り、静的HTMLを返すだけの最小Webサーバー構成。

## 何を学べるのか
- Nginxの最小責務
- ポートを公開するとはどういうことか
- ブラウザ → Webサーバー → HTML の直線的な流れ

## 何をやるのか
- Nginx公式イメージを使用
- p 8080:80でポート公開
- index.htmlを差し替えて表示

## 構成

ブラウザ
 → Nginx（Docker）
   → 静的HTML

## 使用技術
- Nginx
- Docker
- ネットワーク基礎（port/localhost/HTTP）

## 構成図（Mermaid）

## なぜこの構成なのか

## リクエストの流れ

## 触るポイント

## よくある失敗

## 実務との対応

## 次にやるなら

---

### 作業ステップ (Work Steps)

1.  **Nginxプロジェクトのディレクトリ構造の作成**
    *   `01-static-web-nginx` ディレクトリ内に、静的ファイルを配置する `html` ディレクトリを作成します。
    *   (任意) 将来的にカスタムNginx設定ファイルが必要になった場合に備え、`nginx` ディレクトリも作成することを検討します。今回は不要ですが、構成が複雑になった際には役立ちます。
    *   **予想時間:** 5分

2.  **カスタム `index.html` ファイルの作成**
    *   `html` ディレクトリ内に、表示させたい内容を記述した `index.html` ファイルを作成します。
    *   シンプルなHTMLで「Hello from Nginx!」のようなメッセージを含めると良いでしょう。
    *   **予想時間:** 10分

3.  **`docker-compose.yml` ファイルの作成**
    *   `01-static-web-nginx` ディレクトリ直下に `docker-compose.yml` ファイルを作成します。
    *   このファイルでNginxサービスを定義します。
        *   `image: nginx:latest` を使用して最新のNginxイメージを指定します。
        *   `ports: "8080:80"` を設定し、ホストの8080番ポートをコンテナの80番ポート（NginxのデフォルトHTTPポート）にマッピングします。
        *   `volumes: ./html:/usr/share/nginx/html:ro` を設定し、作成した `html` ディレクトリをNginxコンテナ内の静的ファイル提供ディレクトリに読み取り専用 (`ro`) でマウントします。これにより、コンテナを再ビルドせずにHTML内容を変更できます。
    *   **予想時間:** 15分

4.  **Nginxコンテナの起動**
    *   `01-static-web-nginx` ディレクトリでターミナルを開き、`docker-compose up -d` コマンドを実行してNginxコンテナをバックグラウンドで起動します。
    *   `docker-compose ps` でコンテナが正常に起動しているか確認できます。
    *   **予想時間:** 5分

5.  **ブラウザからの表示確認**
    *   ウェブブラウザを開き、`http://localhost:8080` にアクセスします。
    *   作成したカスタム `index.html` の内容が表示されることを確認します。
    *   **予想時間:** 5分

6.  **(オプション) クリーンアップ**
    *   作業終了後、`docker-compose down` コマンドでコンテナを停止・削除できます。
    *   **予想時間:** 1分

### 学習ポイントと深掘り (Learning Points and Deep Dive)

*   **Nginxの最小責務 (`Nginx's Minimal Responsibility`)**
    *   **学ぶべきこと:** Nginxが静的ファイルを効率的に提供する「Webサーバー」としての役割を理解します。リクエストを受け取り、ファイルシステムからファイルを読み込み、それをブラウザに返すという最も基本的な機能に焦点を当てます。
    *   **深掘り:**
        *   Nginxがリバースプロキシとしてどのように機能するか（今回のケースとは異なりますが、重要な役割です）。
        *   ワーカープロセスやイベント駆動型アーキテクチャが、Nginxの高性能・高並行性をどのように実現しているか。
        *   Nginxの設定ファイル (`nginx.conf`) の基本的な構造（`http`, `server`, `location` ブロックなど）。今回はデフォルト設定を利用していますが、理解を深める上で重要です。

*   **ポートを公開するとはどういうことか (`What does "exposing a port" mean?`)**
    *   **学ぶべきこと:** ホストOS（あなたのPC）のポートとDockerコンテナ内のポートのマッピングの概念を理解します。なぜホストの8080番ポートをコンテナの80番ポートに接続するのかを学びます。ポート80がHTTPの標準ポートであることも確認します。
    *   **深掘り:**
        *   well-known ports (0-1023) や registered ports (1024-49151) といったポート番号の慣習。
        *   ファイアウォールとポートの関係、セキュリティ上の考慮事項。
        *   `localhost` が常に自分のマシンを指すことの意味。

*   **ブラウザ → Webサーバー → HTML の直線的な流れ (`Straightforward flow: Browser -> Web Server -> HTML`)**
    *   **学ぶべきこと:** ブラウザがURLを入力すると、内部でどのような通信が行われ、最終的にWebサーバーからHTMLファイルを受け取って表示するまでの基本的なHTTPリクエスト/レスポンスサイクルを理解します。
    *   **深掘り:**
        *   HTTPメソッド (GET, POSTなど) の違いとその用途。
        *   HTTPステータスコード (200 OK, 404 Not Foundなど) が何を意味するか。
        *   DNS (Domain Name System) がどのようにドメイン名をIPアドレスに解決しているか（今回は`localhost`なので直接IPですが、ウェブ全体では不可欠です）。
        *   TCP/IPスタックの基本的な役割。

*   **Dockerの基礎 (`Docker Basics`)**
    *   **学ぶべきこと:** Dockerイメージとコンテナの概念、`docker-compose` を使った複数コンテナの定義と管理の基本。特に、`volumes` を使ったホストとコンテナ間のファイル共有、`ports` を使ったポートマッピング。
    *   **深掘り:**
        *   Dockerfileの書き方と、独自のNginxイメージをビルドする方法。
        *   Dockerネットワークの概念（`bridge` ネットワークなど）。
        *   `docker-compose` のその他のコマンド（`build`, `stop`, `rm` など）。

### 実際にかかる予想時間 (Estimated Time)

*   **実装作業（ユーザー側）:** 約 35分
*   **学習と深掘り:** 1〜2時間 (個人の経験や興味によって大きく変動します)

### 実際にかかった時間 (Actual Time Spent)

*   **実装作業（ユーザー側）:** [ここに実際にかかった時間を記入してください]
*   **学習と深掘り:** [ここに実際にかかった時間を記入してください]